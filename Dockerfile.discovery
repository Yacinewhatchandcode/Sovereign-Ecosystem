FROM python:3.11-slim

WORKDIR /app

# Install dependencies
RUN pip install --no-cache-dir \
    aiohttp \
    aiofiles

# Copy discovery node
COPY sovereign-dashboard/discovery_node.py .
COPY sovereign-dashboard/agent_communication_hub.py .
COPY sovereign-dashboard/feature_scanner.py .
COPY sovereign-dashboard/pattern_engine.py .

EXPOSE 4000

CMD ["python3", "-u", "discovery_node.py", "/app"]
